<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Invoice</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style_invoice.css') }}">
</head>

<body>
<div class="wrapper">
  <p class="document-title">
  <strong>INVOICE</strong>
  </p>
  <div class="order-container">
  <p class="invoice-detail">
  Invoice Number: {{ invoice_number }}<br>
  Invoice Date: {{ invoice_date }}<br>
  Currency: {{ currency_code }}<br>
  </p>
  {% if buyer_address_lines | length != 0 %}
    <div class="customer-addresses">
      <div class="shipping-address">
        <p class="subtitle-bold to-uppercase">
          Bill/Deliver to
        </p>
        <p class="address-detail">
          {% for line in buyer_address_lines %}
              {{ line }}
              <br>
          {% endfor %}
        </p>
      </div>  
    </div>
  {% endif %}
  </div>
  <hr>
  <div class="order-container">
    <div class="order-container-header">
      <div class="order-container-header-left-content">
        <p class="subtitle-bold to-uppercase">
          Items
        </p>
      </div>
      <div class="order-container-header-right-content">
        <p class="subtitle-bold to-uppercase">
          Price Ex.&nbsp;VAT
        </p>
      </div>
    </div>

    {% for item in items %}
      <div class="flex-line-item">
        <div class="flex-line-item-description">
          <p>
            <span class="line-item-description-line">
              <strong>{{ item.description }}</strong>
            </span>
            Unit price ex.&nbsp;VAT:&nbsp;{{ item.unit_price }}<br>
            VAT rate: {{ vat_percent }}%<br>
            Quantity: {{ item.quantity }}
          </p>
        </div>
        <div class="flex-line-item-quantity">
          <p class="text-align-right">
            {{ item.total_ex_vat }}
          </p>
        </div>
      </div>
    {% endfor %}
        
  </div>
  <hr>
  <div class="order-container">
      <div class="flex-line-item-total">
        <div class="flex-line-item-description">
          <p>
            <span class="line-item-description-line">
              <span>Subtotal ex. VAT</span>
            </span>
          </p>
        </div>
        <div class="flex-line-item-quantity">
          <p class="text-align-right">
            {{ total_ex_vat }}
          </p>
        </div>
      </div>
      
      <div class="flex-line-item-total">
        <div class="flex-line-item-description">
          <p>
            <span class="line-item-description-line">
              <span>VAT</span>
            </span>
          </p>
        </div>
        <div class="flex-line-item-quantity">
          <p class="text-align-right">
            {{ total_vat }}
          </p>
        </div>
      </div>

</div>
<hr>
  <div class="order-container">

      <div class="flex-line-item-total">
        <div class="flex-line-item-description">
          <p>
            <span class="line-item-description-line">
              <strong>TOTAL</strong>
            </span>
          </p>
        </div>
        <div class="flex-line-item-quantity">
          <p class="text-align-right">
            <strong>{{ currency_code }}&nbsp;{{ total }}</strong>
          </p>
        </div>
      </div>

</div>
<hr>

  <div class="footer">
    <p>
      <strong>
      {{ seller_name }}
      </strong>
      <br>
      {{ seller_address_single_line }}
      <br>
      VAT number: {{ seller_vat_number }}
    </p>
  </div>
</div>

{% if open_print_dialog %}
  <script>
    window.print();
  </script>
{% endif %}

</body>
</html>
